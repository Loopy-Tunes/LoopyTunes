ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 4
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"daisy_ILI9341.cpp"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text._ZN19ILI9341SpiTransport11SendDataDMAEPhj,"axG",%progbits,_ZN19ILI9341SpiTransport1
  19              		.align	1
  20              		.weak	_ZN19ILI9341SpiTransport11SendDataDMAEPhj
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	_ZN19ILI9341SpiTransport11SendDataDMAEPhj:
  26              	.LVL0:
  27              	.LFB2563:
  28              		.file 1 "Drivers/daisy_ILI9341.h"
   1:Drivers/daisy_ILI9341.h **** #ifndef DAISY_ILI9341_H
   2:Drivers/daisy_ILI9341.h **** #define DAISY_ILI9341_H
   3:Drivers/daisy_ILI9341.h **** 
   4:Drivers/daisy_ILI9341.h **** #include "daisy_seed.h"
   5:Drivers/daisy_ILI9341.h **** #include <cstring>
   6:Drivers/daisy_ILI9341.h **** #include <util/oled_fonts.h>
   7:Drivers/daisy_ILI9341.h **** #include <hid/disp/graphics_common.h>
   8:Drivers/daisy_ILI9341.h **** 
   9:Drivers/daisy_ILI9341.h **** using namespace daisy;
  10:Drivers/daisy_ILI9341.h **** 
  11:Drivers/daisy_ILI9341.h **** // #define SPI1_NSS 7    // LCD CS 3
  12:Drivers/daisy_ILI9341.h **** // #define SPI1_SCK 8    // LCD SCK 7
  13:Drivers/daisy_ILI9341.h **** // #define SPI1_MOSI 10  // LCD MOSI 6
  14:Drivers/daisy_ILI9341.h **** // #define ADC1_INP15 16 // PIN 23 - LCD RST 4
  15:Drivers/daisy_ILI9341.h **** // #define DAC1_OUT2 22  //PIN 29 - LCD DC 5
  16:Drivers/daisy_ILI9341.h **** 
  17:Drivers/daisy_ILI9341.h **** // #define SPI1_MISO 9 // Not used
  18:Drivers/daisy_ILI9341.h **** // #define I2C1_SCL 11
  19:Drivers/daisy_ILI9341.h **** // #define I2C1_SDA 12
  20:Drivers/daisy_ILI9341.h **** 
  21:Drivers/daisy_ILI9341.h **** enum TFT_COLOR
  22:Drivers/daisy_ILI9341.h **** {
  23:Drivers/daisy_ILI9341.h ****     COLOR_BLACK = 0,
  24:Drivers/daisy_ILI9341.h ****     COLOR_WHITE,
  25:Drivers/daisy_ILI9341.h ****     COLOR_BLUE,
  26:Drivers/daisy_ILI9341.h ****     COLOR_DARK_BLUE,
  27:Drivers/daisy_ILI9341.h ****     COLOR_CYAN,
  28:Drivers/daisy_ILI9341.h ****     COLOR_YELLOW,
  29:Drivers/daisy_ILI9341.h ****     COLOR_DARK_YELLOW,
  30:Drivers/daisy_ILI9341.h ****     COLOR_ORANGE,
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 2


  31:Drivers/daisy_ILI9341.h ****     COLOR_RED,
  32:Drivers/daisy_ILI9341.h ****     COLOR_DARK_RED,
  33:Drivers/daisy_ILI9341.h ****     COLOR_GREEN,
  34:Drivers/daisy_ILI9341.h ****     COLOR_DARK_GREEN,
  35:Drivers/daisy_ILI9341.h ****     COLOR_LIGHT_GREEN,
  36:Drivers/daisy_ILI9341.h ****     COLOR_GRAY,
  37:Drivers/daisy_ILI9341.h ****     COLOR_DARK_GRAY,
  38:Drivers/daisy_ILI9341.h ****     COLOR_LIGHT_GRAY,
  39:Drivers/daisy_ILI9341.h ****     COLOR_MEDIUM_GRAY,
  40:Drivers/daisy_ILI9341.h ****     COLOR_ABL_BG,
  41:Drivers/daisy_ILI9341.h ****     COLOR_ABL_LINE,
  42:Drivers/daisy_ILI9341.h ****     COLOR_ABL_D_LINE,
  43:Drivers/daisy_ILI9341.h ****     COLOR_ABL_L_GRAY,
  44:Drivers/daisy_ILI9341.h ****     COLOR_ABL_M_GRAY,
  45:Drivers/daisy_ILI9341.h ****     NUMBER_OF_TFT_COLORS,
  46:Drivers/daisy_ILI9341.h **** };
  47:Drivers/daisy_ILI9341.h **** 
  48:Drivers/daisy_ILI9341.h **** /**
  49:Drivers/daisy_ILI9341.h ****  * SPI Transport for ILI9341 TFT display devices
  50:Drivers/daisy_ILI9341.h ****  */
  51:Drivers/daisy_ILI9341.h **** class ILI9341SpiTransport
  52:Drivers/daisy_ILI9341.h **** {
  53:Drivers/daisy_ILI9341.h ****   public:
  54:Drivers/daisy_ILI9341.h ****     void Init()
  55:Drivers/daisy_ILI9341.h ****     {
  56:Drivers/daisy_ILI9341.h ****         // Initialize SPI
  57:Drivers/daisy_ILI9341.h ****         SpiHandle::Config spi_config;
  58:Drivers/daisy_ILI9341.h ****         spi_config.periph    = SpiHandle::Config::Peripheral::SPI_1;
  59:Drivers/daisy_ILI9341.h ****         spi_config.mode      = SpiHandle::Config::Mode::MASTER;
  60:Drivers/daisy_ILI9341.h ****         spi_config.direction = SpiHandle::Config::Direction::TWO_LINES_TX_ONLY;
  61:Drivers/daisy_ILI9341.h ****         spi_config.clock_polarity  = SpiHandle::Config::ClockPolarity::LOW;
  62:Drivers/daisy_ILI9341.h ****         spi_config.baud_prescaler  = SpiHandle::Config::BaudPrescaler::PS_2;
  63:Drivers/daisy_ILI9341.h ****         spi_config.clock_phase     = SpiHandle::Config::ClockPhase::ONE_EDGE;
  64:Drivers/daisy_ILI9341.h ****         spi_config.nss             = SpiHandle::Config::NSS::HARD_OUTPUT;
  65:Drivers/daisy_ILI9341.h ****         spi_config.datasize        = 8;
  66:Drivers/daisy_ILI9341.h ****         spi_config.pin_config.sclk = {DSY_GPIOG, 11};
  67:Drivers/daisy_ILI9341.h ****         spi_config.pin_config.mosi = {DSY_GPIOB, 5};
  68:Drivers/daisy_ILI9341.h ****         spi_config.pin_config.nss  = {DSY_GPIOG, 10};
  69:Drivers/daisy_ILI9341.h ****         // spi_config.pin_config.miso = {DSY_GPIOX, 0}; // not used
  70:Drivers/daisy_ILI9341.h **** 
  71:Drivers/daisy_ILI9341.h ****         // v0.1 mix up
  72:Drivers/daisy_ILI9341.h ****         //uint8_t dc_pin    = 16;
  73:Drivers/daisy_ILI9341.h ****         //uint8_t reset_pin = 22;
  74:Drivers/daisy_ILI9341.h **** 
  75:Drivers/daisy_ILI9341.h ****         // DC pin
  76:Drivers/daisy_ILI9341.h ****         pin_dc_.mode = DSY_GPIO_MODE_OUTPUT_PP;
  77:Drivers/daisy_ILI9341.h ****         pin_dc_.pin  = seed::D12;
  78:Drivers/daisy_ILI9341.h ****         dsy_gpio_init(&pin_dc_);
  79:Drivers/daisy_ILI9341.h ****         // Reset pin
  80:Drivers/daisy_ILI9341.h ****         pin_reset_.mode = DSY_GPIO_MODE_OUTPUT_PP;
  81:Drivers/daisy_ILI9341.h ****         pin_reset_.pin  = seed::D11;
  82:Drivers/daisy_ILI9341.h ****         dsy_gpio_init(&pin_reset_);
  83:Drivers/daisy_ILI9341.h ****         // CS pin
  84:Drivers/daisy_ILI9341.h ****         pin_cs_.mode = DSY_GPIO_MODE_OUTPUT_PP;
  85:Drivers/daisy_ILI9341.h ****         pin_cs_.pin  = spi_config.pin_config.nss;
  86:Drivers/daisy_ILI9341.h ****         dsy_gpio_init(&pin_cs_);
  87:Drivers/daisy_ILI9341.h **** 
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 3


  88:Drivers/daisy_ILI9341.h ****         spi_.Init(spi_config);
  89:Drivers/daisy_ILI9341.h **** 
  90:Drivers/daisy_ILI9341.h ****         InitPalette();
  91:Drivers/daisy_ILI9341.h ****     };
  92:Drivers/daisy_ILI9341.h **** 
  93:Drivers/daisy_ILI9341.h ****     void Reset()
  94:Drivers/daisy_ILI9341.h ****     {
  95:Drivers/daisy_ILI9341.h ****         dsy_gpio_write(&pin_reset_, 0);
  96:Drivers/daisy_ILI9341.h ****         System::Delay(10);
  97:Drivers/daisy_ILI9341.h ****         dsy_gpio_write(&pin_reset_, 1);
  98:Drivers/daisy_ILI9341.h ****         System::Delay(120);
  99:Drivers/daisy_ILI9341.h ****     }
 100:Drivers/daisy_ILI9341.h **** 
 101:Drivers/daisy_ILI9341.h ****     /*void ClearBuffer(uint16_t color) { 
 102:Drivers/daisy_ILI9341.h ****         for (size_t i = 0; i < buffer_size / 2; i++) {
 103:Drivers/daisy_ILI9341.h ****             frame_buffer[i * 2] = color >> 8;
 104:Drivers/daisy_ILI9341.h ****             frame_buffer[i * 2 + 1] = color & 0xFF; // new function
 105:Drivers/daisy_ILI9341.h ****         }
 106:Drivers/daisy_ILI9341.h ****     }*/
 107:Drivers/daisy_ILI9341.h **** 
 108:Drivers/daisy_ILI9341.h ****     // an internal function to handle SPI DMA callbacks
 109:Drivers/daisy_ILI9341.h ****     // called when an DMA transmission completes and the next driver must be updated
 110:Drivers/daisy_ILI9341.h ****     static void TxCompleteCallback(void* context, SpiHandle::Result result);
 111:Drivers/daisy_ILI9341.h **** 
 112:Drivers/daisy_ILI9341.h ****     SpiHandle::Result SendDataDMA();
 113:Drivers/daisy_ILI9341.h **** 
 114:Drivers/daisy_ILI9341.h ****     SpiHandle::Result SendDataDMA(uint8_t* buff, size_t size)
  29              		.loc 1 114 23 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
 115:Drivers/daisy_ILI9341.h ****     {
 116:Drivers/daisy_ILI9341.h ****         dsy_gpio_write(&pin_dc_, 1);
  33              		.loc 1 116 9 view .LVU1
 114:Drivers/daisy_ILI9341.h ****     {
  34              		.loc 1 114 23 is_stmt 0 view .LVU2
  35 0000 30B5     		push	{r4, r5, lr}
  36              		.cfi_def_cfa_offset 12
  37              		.cfi_offset 4, -12
  38              		.cfi_offset 5, -8
  39              		.cfi_offset 14, -4
  40 0002 85B0     		sub	sp, sp, #20
  41              		.cfi_def_cfa_offset 32
 114:Drivers/daisy_ILI9341.h ****     {
  42              		.loc 1 114 23 view .LVU3
  43 0004 0446     		mov	r4, r0
  44 0006 0D46     		mov	r5, r1
  45              		.loc 1 116 23 view .LVU4
  46 0008 4030     		adds	r0, r0, #64
  47              	.LVL1:
  48              		.loc 1 116 23 view .LVU5
  49 000a 0121     		movs	r1, #1
  50              	.LVL2:
 114:Drivers/daisy_ILI9341.h ****     {
  51              		.loc 1 114 23 view .LVU6
  52 000c 0392     		str	r2, [sp, #12]
  53              		.loc 1 116 23 view .LVU7
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 4


  54 000e FFF7FEFF 		bl	dsy_gpio_write
  55              	.LVL3:
 117:Drivers/daisy_ILI9341.h ****         return spi_.DmaTransmit(buff, size, nullptr, &TxCompleteCallback, this);
  56              		.loc 1 117 9 is_stmt 1 view .LVU8
  57              		.loc 1 117 32 is_stmt 0 view .LVU9
  58 0012 064B     		ldr	r3, .L2
  59 0014 039A     		ldr	r2, [sp, #12]
  60 0016 2946     		mov	r1, r5
  61 0018 0093     		str	r3, [sp]
  62 001a 0023     		movs	r3, #0
  63 001c 04F10C00 		add	r0, r4, #12
  64 0020 0194     		str	r4, [sp, #4]
  65 0022 FFF7FEFF 		bl	_ZN5daisy9SpiHandle11DmaTransmitEPhjPFvPvEPFvS2_NS0_6ResultEES2_
  66              	.LVL4:
 118:Drivers/daisy_ILI9341.h ****     };
  67              		.loc 1 118 5 view .LVU10
  68 0026 05B0     		add	sp, sp, #20
  69              		.cfi_def_cfa_offset 12
  70              		@ sp needed
  71 0028 30BD     		pop	{r4, r5, pc}
  72              	.LVL5:
  73              	.L3:
  74              		.loc 1 118 5 view .LVU11
  75 002a 00BF     		.align	2
  76              	.L2:
  77 002c 00000000 		.word	_ZN19ILI9341SpiTransport18TxCompleteCallbackEPvN5daisy9SpiHandle6ResultE
  78              		.cfi_endproc
  79              	.LFE2563:
  81              		.section	.text._ZN19ILI9341SpiTransport18TxCompleteCallbackEPvN5daisy9SpiHandle6ResultE,"ax",%prog
  82              		.align	1
  83              		.global	_ZN19ILI9341SpiTransport18TxCompleteCallbackEPvN5daisy9SpiHandle6ResultE
  84              		.syntax unified
  85              		.thumb
  86              		.thumb_func
  88              	_ZN19ILI9341SpiTransport18TxCompleteCallbackEPvN5daisy9SpiHandle6ResultE:
  89              	.LVL6:
  90              	.LFB2605:
  91              		.file 2 "Drivers/daisy_ILI9341.cpp"
   1:Drivers/daisy_ILI9341.cpp **** #include "LcdBuffers.h"
   2:Drivers/daisy_ILI9341.cpp **** #include "daisy_ILI9341.h"
   3:Drivers/daisy_ILI9341.cpp **** 
   4:Drivers/daisy_ILI9341.cpp **** static uint8_t DMA_BUFFER_MEM_SECTION frame_buffer[153600]; // DMA max (?) 65536 // full screen - 1
   5:Drivers/daisy_ILI9341.cpp **** static uint8_t DSY_SDRAM_BSS color_mem[153600 / 2];
   6:Drivers/daisy_ILI9341.cpp **** 
   7:Drivers/daisy_ILI9341.cpp **** void ILI9341SpiTransport::TxCompleteCallback(void* context, SpiHandle::Result result)
   8:Drivers/daisy_ILI9341.cpp **** {
  92              		.loc 2 8 1 is_stmt 1 view -0
  93              		.cfi_startproc
  94              		@ args = 0, pretend = 0, frame = 0
  95              		@ frame_needed = 0, uses_anonymous_args = 0
   9:Drivers/daisy_ILI9341.cpp ****         if(result == SpiHandle::Result::OK)
  96              		.loc 2 9 9 view .LVU13
   8:Drivers/daisy_ILI9341.cpp ****         if(result == SpiHandle::Result::OK)
  97              		.loc 2 8 1 is_stmt 0 view .LVU14
  98 0000 10B5     		push	{r4, lr}
  99              		.cfi_def_cfa_offset 8
 100              		.cfi_offset 4, -8
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 5


 101              		.cfi_offset 14, -4
 102              	.LBB23:
 103              		.loc 2 9 9 view .LVU15
 104 0002 71B9     		cbnz	r1, .L4
 105              	.LVL7:
 106              		.loc 2 9 9 view .LVU16
 107              	.LBE23:
 108              	.LBB24:
 109              	.LBI24:
   7:Drivers/daisy_ILI9341.cpp **** {
 110              		.loc 2 7 6 is_stmt 1 view .LVU17
 111              	.LBB25:
  10:Drivers/daisy_ILI9341.cpp ****         {
  11:Drivers/daisy_ILI9341.cpp ****             auto transport     = static_cast<ILI9341SpiTransport*>(context);
 112              		.loc 2 11 13 view .LVU18
  12:Drivers/daisy_ILI9341.cpp ****             auto transfer_size = transport->GetTransferSize();
 113              		.loc 2 12 13 view .LVU19
 114              	.LBB26:
 115              	.LBI26:
 119:Drivers/daisy_ILI9341.h **** 
 120:Drivers/daisy_ILI9341.h ****     uint32_t GetTransferSize() const
 116              		.loc 1 120 14 view .LVU20
 117              	.LBB27:
 121:Drivers/daisy_ILI9341.h ****     {
 122:Drivers/daisy_ILI9341.h ****         return remaining_buff < buf_chunk_size ? remaining_buff
 118              		.loc 1 122 9 view .LVU21
 119              		.loc 1 122 16 is_stmt 0 view .LVU22
 120 0004 4168     		ldr	r1, [r0, #4]
 121              	.LVL8:
 122              		.loc 1 122 31 view .LVU23
 123 0006 0289     		ldrh	r2, [r0, #8]
 123:Drivers/daisy_ILI9341.h ****                                                : buf_chunk_size;
 124              		.loc 1 123 50 view .LVU24
 125 0008 8A42     		cmp	r2, r1
 126 000a 28BF     		it	cs
 127 000c 0A46     		movcs	r2, r1
 128              	.LVL9:
 129              		.loc 1 123 50 view .LVU25
 130              	.LBE27:
 131              	.LBE26:
  13:Drivers/daisy_ILI9341.cpp ****             transport->remaining_buff -= transfer_size;
 132              		.loc 2 13 13 is_stmt 1 view .LVU26
 133              		.loc 2 13 39 is_stmt 0 view .LVU27
 134 000e 8C1A     		subs	r4, r1, r2
 135 0010 4460     		str	r4, [r0, #4]
  14:Drivers/daisy_ILI9341.cpp ****             if(transport->remaining_buff > 0)
 136              		.loc 2 14 13 is_stmt 1 view .LVU28
 137              	.LBB28:
 138 0012 3CB1     		cbz	r4, .L6
 139              	.LBB29:
  15:Drivers/daisy_ILI9341.cpp ****             {
  16:Drivers/daisy_ILI9341.cpp ****                 uint8_t* next_buffer_ptr = frame_buffer + (transport->buffer_size - transport->rema
 140              		.loc 2 16 17 view .LVU29
 141              	.LVL10:
  17:Drivers/daisy_ILI9341.cpp ****                 transport->SendDataDMA(
 142              		.loc 2 17 17 view .LVU30
  16:Drivers/daisy_ILI9341.cpp ****                 transport->SendDataDMA(
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 6


 143              		.loc 2 16 83 is_stmt 0 view .LVU31
 144 0014 C1F51631 		rsb	r1, r1, #153600
 145              	.LVL11:
 146              		.loc 2 17 39 view .LVU32
 147 0018 034B     		ldr	r3, .L7
  16:Drivers/daisy_ILI9341.cpp ****                 transport->SendDataDMA(
 148              		.loc 2 16 83 view .LVU33
 149 001a 1144     		add	r1, r1, r2
 150              		.loc 2 17 39 view .LVU34
 151 001c 1944     		add	r1, r1, r3
 152 001e FFF7FEFF 		bl	_ZN19ILI9341SpiTransport11SendDataDMAEPhj
 153              	.LVL12:
 154              	.L4:
 155              		.loc 2 17 39 view .LVU35
 156              	.LBE29:
 157              	.LBE28:
 158              	.LBE25:
 159              	.LBE24:
  18:Drivers/daisy_ILI9341.cpp ****                    &frame_buffer[buffer_size - transport->remaining_buff],
  19:Drivers/daisy_ILI9341.cpp ****                     transfer_size);
  20:Drivers/daisy_ILI9341.cpp ****                     
  21:Drivers/daisy_ILI9341.cpp **** 
  22:Drivers/daisy_ILI9341.cpp ****                 // 16bit transfer             uncommented
  23:Drivers/daisy_ILI9341.cpp ****                 // transport->SendDataDMA(
  24:Drivers/daisy_ILI9341.cpp ****                   //   &frame_buffer[2 * transport->buf_chunk_size],
  25:Drivers/daisy_ILI9341.cpp ****                     // transport->buf_chunk_size);
  26:Drivers/daisy_ILI9341.cpp ****             }
  27:Drivers/daisy_ILI9341.cpp ****             else
  28:Drivers/daisy_ILI9341.cpp ****             {
  29:Drivers/daisy_ILI9341.cpp ****                 //System::Delay(120);
  30:Drivers/daisy_ILI9341.cpp ****                 transport->dma_busy = false;
  31:Drivers/daisy_ILI9341.cpp ****                 
  32:Drivers/daisy_ILI9341.cpp **** 
  33:Drivers/daisy_ILI9341.cpp ****                 // 8 bit transfer
  34:Drivers/daisy_ILI9341.cpp ****                 // auto* spi_h = transport->spi_.GetHandle();
  35:Drivers/daisy_ILI9341.cpp ****                 // spi_h->Instance->CFG1 &= ~SPI_CFG1_DSIZE_3;
  36:Drivers/daisy_ILI9341.cpp ****                 // spi_h->Instance->CFG2 &= ~SPI_CFG2_LSBFRST;
  37:Drivers/daisy_ILI9341.cpp ****                 // spi_h->Init.DataSize = SPI_DATASIZE_8BIT;
  38:Drivers/daisy_ILI9341.cpp ****             }
  39:Drivers/daisy_ILI9341.cpp ****         }
  40:Drivers/daisy_ILI9341.cpp **** }
 160              		.loc 2 40 1 view .LVU36
 161 0022 10BD     		pop	{r4, pc}
 162              	.LVL13:
 163              	.L6:
 164              	.LBB32:
 165              	.LBB31:
 166              	.LBB30:
  30:Drivers/daisy_ILI9341.cpp ****                 
 167              		.loc 2 30 17 is_stmt 1 view .LVU37
  30:Drivers/daisy_ILI9341.cpp ****                 
 168              		.loc 2 30 37 is_stmt 0 view .LVU38
 169 0024 0470     		strb	r4, [r0]
 170              	.LVL14:
  30:Drivers/daisy_ILI9341.cpp ****                 
 171              		.loc 2 30 37 view .LVU39
 172              	.LBE30:
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 7


 173              	.LBE31:
 174              	.LBE32:
 175              		.loc 2 40 1 view .LVU40
 176 0026 FCE7     		b	.L4
 177              	.L8:
 178              		.align	2
 179              	.L7:
 180 0028 00000000 		.word	_ZL12frame_buffer
 181              		.cfi_endproc
 182              	.LFE2605:
 184              		.section	.text._ZN19ILI9341SpiTransport11SendDataDMAEv,"ax",%progbits
 185              		.align	1
 186              		.global	_ZN19ILI9341SpiTransport11SendDataDMAEv
 187              		.syntax unified
 188              		.thumb
 189              		.thumb_func
 191              	_ZN19ILI9341SpiTransport11SendDataDMAEv:
 192              	.LVL15:
 193              	.LFB2606:
  41:Drivers/daisy_ILI9341.cpp **** 
  42:Drivers/daisy_ILI9341.cpp **** SpiHandle::Result ILI9341SpiTransport::SendDataDMA()
  43:Drivers/daisy_ILI9341.cpp **** {
 194              		.loc 2 43 1 is_stmt 1 view -0
 195              		.cfi_startproc
 196              		@ args = 0, pretend = 0, frame = 0
 197              		@ frame_needed = 0, uses_anonymous_args = 0
  44:Drivers/daisy_ILI9341.cpp ****     remaining_buff = buffer_size;
 198              		.loc 2 44 5 view .LVU42
 199              		.loc 2 44 20 is_stmt 0 view .LVU43
 200 0000 4FF41632 		mov	r2, #153600
  45:Drivers/daisy_ILI9341.cpp ****     //System::Delay(120);
  46:Drivers/daisy_ILI9341.cpp ****     dma_busy       = true;
  47:Drivers/daisy_ILI9341.cpp ****         
  48:Drivers/daisy_ILI9341.cpp **** 
  49:Drivers/daisy_ILI9341.cpp ****     // auto* spi_h = spi_.GetHandle();
  50:Drivers/daisy_ILI9341.cpp ****     // spi_h->Instance->CFG1 |= SPI_CFG1_DSIZE_3;
  51:Drivers/daisy_ILI9341.cpp ****     // spi_h->Instance->CFG2 |= SPI_CFG2_LSBFRST;
  52:Drivers/daisy_ILI9341.cpp ****     // spi_h->Init.DataSize = SPI_DATASIZE_16BIT; // 15;
  53:Drivers/daisy_ILI9341.cpp **** 
  54:Drivers/daisy_ILI9341.cpp ****     return SendDataDMA(frame_buffer, buf_chunk_size);
 201              		.loc 2 54 23 view .LVU44
 202 0004 0449     		ldr	r1, .L10
  43:Drivers/daisy_ILI9341.cpp ****     remaining_buff = buffer_size;
 203              		.loc 2 43 1 view .LVU45
 204 0006 08B5     		push	{r3, lr}
 205              		.cfi_def_cfa_offset 8
 206              		.cfi_offset 3, -8
 207              		.cfi_offset 14, -4
  44:Drivers/daisy_ILI9341.cpp ****     remaining_buff = buffer_size;
 208              		.loc 2 44 20 view .LVU46
 209 0008 4260     		str	r2, [r0, #4]
  46:Drivers/daisy_ILI9341.cpp ****         
 210              		.loc 2 46 5 is_stmt 1 view .LVU47
  46:Drivers/daisy_ILI9341.cpp ****         
 211              		.loc 2 46 20 is_stmt 0 view .LVU48
 212 000a 0122     		movs	r2, #1
 213 000c 0270     		strb	r2, [r0]
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 8


 214              		.loc 2 54 5 is_stmt 1 view .LVU49
 215              		.loc 2 54 23 is_stmt 0 view .LVU50
 216 000e 0289     		ldrh	r2, [r0, #8]
 217 0010 FFF7FEFF 		bl	_ZN19ILI9341SpiTransport11SendDataDMAEPhj
 218              	.LVL16:
  55:Drivers/daisy_ILI9341.cpp **** }
 219              		.loc 2 55 1 view .LVU51
 220 0014 08BD     		pop	{r3, pc}
 221              	.L11:
 222 0016 00BF     		.align	2
 223              	.L10:
 224 0018 00000000 		.word	_ZL12frame_buffer
 225              		.cfi_endproc
 226              	.LFE2606:
 228              		.section	.text._ZNK19ILI9341SpiTransport10PaintPixelEmhh,"ax",%progbits
 229              		.align	1
 230              		.global	_ZNK19ILI9341SpiTransport10PaintPixelEmhh
 231              		.syntax unified
 232              		.thumb
 233              		.thumb_func
 235              	_ZNK19ILI9341SpiTransport10PaintPixelEmhh:
 236              	.LVL17:
 237              	.LFB2607:
  56:Drivers/daisy_ILI9341.cpp **** 
  57:Drivers/daisy_ILI9341.cpp **** void ILI9341SpiTransport::PaintPixel(uint32_t id, uint8_t color_id, uint8_t alpha) const
  58:Drivers/daisy_ILI9341.cpp **** {
 238              		.loc 2 58 1 is_stmt 1 view -0
 239              		.cfi_startproc
 240              		@ args = 0, pretend = 0, frame = 0
 241              		@ frame_needed = 0, uses_anonymous_args = 0
  59:Drivers/daisy_ILI9341.cpp ****     auto color = tftPalette[color_id];
 242              		.loc 2 59 5 view .LVU53
  58:Drivers/daisy_ILI9341.cpp ****     auto color = tftPalette[color_id];
 243              		.loc 2 58 1 is_stmt 0 view .LVU54
 244 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 245              		.cfi_def_cfa_offset 20
 246              		.cfi_offset 4, -20
 247              		.cfi_offset 5, -16
 248              		.cfi_offset 6, -12
 249              		.cfi_offset 7, -8
 250              		.cfi_offset 14, -4
 251              	.LBB37:
  60:Drivers/daisy_ILI9341.cpp **** 
  61:Drivers/daisy_ILI9341.cpp ****     if(alpha != 255)
 252              		.loc 2 61 5 view .LVU55
 253 0002 FF2B     		cmp	r3, #255
 254              	.LBE37:
  59:Drivers/daisy_ILI9341.cpp **** 
 255              		.loc 2 59 10 view .LVU56
 256 0004 02F10804 		add	r4, r2, #8
 257 0008 164D     		ldr	r5, .L17
 258 000a 30F81460 		ldrh	r6, [r0, r4, lsl #1]
 259              	.LVL18:
 260              		.loc 2 61 5 is_stmt 1 view .LVU57
 261              	.LBB45:
 262 000e 22D0     		beq	.L13
 263              	.LBB38:
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 9


  62:Drivers/daisy_ILI9341.cpp ****     {
  63:Drivers/daisy_ILI9341.cpp ****         auto bg_color = tftPalette[color_mem[id]];
 264              		.loc 2 63 9 view .LVU58
 265              		.loc 2 63 48 is_stmt 0 view .LVU59
 266 0010 6C5C     		ldrb	r4, [r5, r1]	@ zero_extendqisi2
 267              	.LBB39:
 268              	.LBB40:
 124:Drivers/daisy_ILI9341.h ****         // return remaining_buff < 2 * buf_chunk_size ? remaining_buff // uncommented these two lin
 125:Drivers/daisy_ILI9341.h ****           //                                         : 2 * buf_chunk_size;
 126:Drivers/daisy_ILI9341.h ****     }
 127:Drivers/daisy_ILI9341.h **** 
 128:Drivers/daisy_ILI9341.h ****     SpiHandle::Result SendCommand(uint8_t cmd)
 129:Drivers/daisy_ILI9341.h ****     {
 130:Drivers/daisy_ILI9341.h ****         dsy_gpio_write(&pin_dc_, 0);
 131:Drivers/daisy_ILI9341.h ****         return spi_.BlockingTransmit(&cmd, 1);
 132:Drivers/daisy_ILI9341.h ****     };
 133:Drivers/daisy_ILI9341.h **** 
 134:Drivers/daisy_ILI9341.h ****     SpiHandle::Result SendData(uint8_t* buff, size_t size)
 135:Drivers/daisy_ILI9341.h ****     {
 136:Drivers/daisy_ILI9341.h ****         dsy_gpio_write(&pin_dc_, 1);
 137:Drivers/daisy_ILI9341.h ****         return spi_.BlockingTransmit(buff, size);
 138:Drivers/daisy_ILI9341.h ****     };
 139:Drivers/daisy_ILI9341.h **** 
 140:Drivers/daisy_ILI9341.h ****     void SetAddressWindow(uint16_t x0, uint16_t y0, uint16_t x1, uint16_t y1)
 141:Drivers/daisy_ILI9341.h ****     {
 142:Drivers/daisy_ILI9341.h ****         // column address set
 143:Drivers/daisy_ILI9341.h ****         SendCommand(0x2A); // CASET
 144:Drivers/daisy_ILI9341.h ****         {
 145:Drivers/daisy_ILI9341.h ****             uint8_t data[4] = {static_cast<uint8_t>((x0 >> 8) & 0xFF),
 146:Drivers/daisy_ILI9341.h ****                                static_cast<uint8_t>(x0 & 0xFF),
 147:Drivers/daisy_ILI9341.h ****                                static_cast<uint8_t>((x1 >> 8) & 0xFF),
 148:Drivers/daisy_ILI9341.h ****                                static_cast<uint8_t>(x1 & 0xFF)};
 149:Drivers/daisy_ILI9341.h ****             SendData(data, 4);
 150:Drivers/daisy_ILI9341.h ****         }
 151:Drivers/daisy_ILI9341.h **** 
 152:Drivers/daisy_ILI9341.h ****         // row address set
 153:Drivers/daisy_ILI9341.h ****         SendCommand(0x2B); // RASET
 154:Drivers/daisy_ILI9341.h ****         {
 155:Drivers/daisy_ILI9341.h ****             uint8_t data[4] = {static_cast<uint8_t>((y0 >> 8) & 0xFF),
 156:Drivers/daisy_ILI9341.h ****                                static_cast<uint8_t>(y0 & 0xFF),
 157:Drivers/daisy_ILI9341.h ****                                static_cast<uint8_t>((y1 >> 8) & 0xFF),
 158:Drivers/daisy_ILI9341.h ****                                static_cast<uint8_t>(y1 & 0xFF)};
 159:Drivers/daisy_ILI9341.h ****             SendData(data, 4);
 160:Drivers/daisy_ILI9341.h ****         }
 161:Drivers/daisy_ILI9341.h **** 
 162:Drivers/daisy_ILI9341.h ****         // write to RAM
 163:Drivers/daisy_ILI9341.h ****         SendCommand(0x2C); // RAMWR
 164:Drivers/daisy_ILI9341.h ****     }
 165:Drivers/daisy_ILI9341.h **** 
 166:Drivers/daisy_ILI9341.h ****     void PaintPixel(uint32_t id, uint8_t color_id, uint8_t alpha = 255) const;
 167:Drivers/daisy_ILI9341.h **** 
 168:Drivers/daisy_ILI9341.h ****     uint16_t GetPixel(uint32_t id);
 169:Drivers/daisy_ILI9341.h **** 
 170:Drivers/daisy_ILI9341.h ****     bool     dma_busy       = false;
 171:Drivers/daisy_ILI9341.h ****     uint32_t remaining_buff = 0;
 172:Drivers/daisy_ILI9341.h ****     
 173:Drivers/daisy_ILI9341.h **** 
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 10


 174:Drivers/daisy_ILI9341.h ****     static uint32_t const buffer_size    = 153600;          // 320 * 240 * 2   = 153600
 175:Drivers/daisy_ILI9341.h ****     const uint16_t        buf_chunk_size = buffer_size / 3; // 8bit data
 176:Drivers/daisy_ILI9341.h ****     //const uint16_t buf_chunk_size = buffer_size / 4; // 16bit data
 177:Drivers/daisy_ILI9341.h **** 
 178:Drivers/daisy_ILI9341.h ****     SpiHandle                             spi_;
 179:Drivers/daisy_ILI9341.h **** 
 180:Drivers/daisy_ILI9341.h ****     uint16_t tftPalette[NUMBER_OF_TFT_COLORS];
 181:Drivers/daisy_ILI9341.h **** 
 182:Drivers/daisy_ILI9341.h ****   private:
 183:Drivers/daisy_ILI9341.h ****     dsy_gpio pin_reset_;
 184:Drivers/daisy_ILI9341.h ****     dsy_gpio pin_dc_;
 185:Drivers/daisy_ILI9341.h ****     dsy_gpio pin_cs_;
 186:Drivers/daisy_ILI9341.h **** 
 187:Drivers/daisy_ILI9341.h **** 
 188:Drivers/daisy_ILI9341.h ****     //   rrrrrggggggbbbbb
 189:Drivers/daisy_ILI9341.h **** #define MASK_RB 63519       // 0b1111100000011111
 190:Drivers/daisy_ILI9341.h **** #define MASK_G 2016         // 0b0000011111100000
 191:Drivers/daisy_ILI9341.h **** #define MASK_MUL_RB 4065216 // 0b1111100000011111000000
 192:Drivers/daisy_ILI9341.h **** #define MASK_MUL_G 129024   // 0b0000011111100000000000
 193:Drivers/daisy_ILI9341.h **** #define MAX_ALPHA 64        // 6bits+1 with rounding
 194:Drivers/daisy_ILI9341.h **** 
 195:Drivers/daisy_ILI9341.h ****     uint16_t Blend565(uint16_t fg, uint16_t bg, uint8_t alpha) const
 196:Drivers/daisy_ILI9341.h ****     {
 197:Drivers/daisy_ILI9341.h ****         // alpha for foreground multiplication
 198:Drivers/daisy_ILI9341.h ****         // convert from 8bit to (6bit+1) with rounding
 199:Drivers/daisy_ILI9341.h ****         // will be in [0..64] inclusive
 200:Drivers/daisy_ILI9341.h ****         alpha = (alpha + 2) >> 2;
 269              		.loc 1 200 24 view .LVU60
 270 0012 0233     		adds	r3, r3, #2
 271              	.LVL19:
 201:Drivers/daisy_ILI9341.h ****         // "beta" for background multiplication; (6bit+1);
 202:Drivers/daisy_ILI9341.h ****         // will be in [0..64] inclusive
 203:Drivers/daisy_ILI9341.h ****         uint8_t beta = MAX_ALPHA - alpha;
 204:Drivers/daisy_ILI9341.h ****         // so (0..64)*alpha + (0..64)*beta always in 0..64
 205:Drivers/daisy_ILI9341.h **** 
 206:Drivers/daisy_ILI9341.h ****         return (uint16_t)((((alpha * (uint32_t)(fg & MASK_RB)
 272              		.loc 1 206 38 view .LVU61
 273 0014 26F4FC6C 		bic	ip, r6, #2016
 207:Drivers/daisy_ILI9341.h ****                              + beta * (uint32_t)(bg & MASK_RB))
 208:Drivers/daisy_ILI9341.h ****                             & MASK_MUL_RB)
 209:Drivers/daisy_ILI9341.h ****                            | ((alpha * (fg & MASK_G) + beta * (bg & MASK_G))
 274              		.loc 1 209 44 view .LVU62
 275 0018 06F4FC66 		and	r6, r6, #2016
 276              	.LVL20:
 200:Drivers/daisy_ILI9341.h ****         // "beta" for background multiplication; (6bit+1);
 277              		.loc 1 200 29 view .LVU63
 278 001c 9B10     		asrs	r3, r3, #2
 279              	.LBE40:
 280              	.LBE39:
 281              		.loc 2 63 14 view .LVU64
 282 001e 0834     		adds	r4, r4, #8
 283              	.LBB43:
 284              	.LBB41:
 203:Drivers/daisy_ILI9341.h ****         // so (0..64)*alpha + (0..64)*beta always in 0..64
 285              		.loc 1 203 17 view .LVU65
 286 0020 C3F14007 		rsb	r7, r3, #64
 287              	.LBE41:
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 11


 288              	.LBE43:
 289              		.loc 2 63 14 view .LVU66
 290 0024 30F81400 		ldrh	r0, [r0, r4, lsl #1]
 291              	.LVL21:
  64:Drivers/daisy_ILI9341.cpp ****         color         = Blend565(color, bg_color, alpha);
 292              		.loc 2 64 9 is_stmt 1 view .LVU67
 293              	.LBB44:
 294              	.LBI39:
 195:Drivers/daisy_ILI9341.h ****     {
 295              		.loc 1 195 14 view .LVU68
 296              	.LBB42:
 200:Drivers/daisy_ILI9341.h ****         // "beta" for background multiplication; (6bit+1);
 297              		.loc 1 200 9 view .LVU69
 203:Drivers/daisy_ILI9341.h ****         // so (0..64)*alpha + (0..64)*beta always in 0..64
 298              		.loc 1 203 9 view .LVU70
 203:Drivers/daisy_ILI9341.h ****         // so (0..64)*alpha + (0..64)*beta always in 0..64
 299              		.loc 1 203 17 is_stmt 0 view .LVU71
 300 0028 FFB2     		uxtb	r7, r7
 301              	.LVL22:
 206:Drivers/daisy_ILI9341.h ****                              + beta * (uint32_t)(bg & MASK_RB))
 302              		.loc 1 206 9 is_stmt 1 view .LVU72
 207:Drivers/daisy_ILI9341.h ****                             & MASK_MUL_RB)
 303              		.loc 1 207 39 is_stmt 0 view .LVU73
 304 002a 20F4FC64 		bic	r4, r0, #2016
 305              		.loc 1 209 67 view .LVU74
 306 002e 00F4FC60 		and	r0, r0, #2016
 307              	.LVL23:
 207:Drivers/daisy_ILI9341.h ****                             & MASK_MUL_RB)
 308              		.loc 1 207 37 view .LVU75
 309 0032 7C43     		muls	r4, r7, r4
 310              		.loc 1 209 61 view .LVU76
 311 0034 7843     		muls	r0, r7, r0
 207:Drivers/daisy_ILI9341.h ****                             & MASK_MUL_RB)
 312              		.loc 1 207 30 view .LVU77
 313 0036 03FB0C44 		mla	r4, r3, ip, r4
 314              		.loc 1 209 54 view .LVU78
 315 003a 03FB0600 		mla	r0, r3, r6, r0
 208:Drivers/daisy_ILI9341.h ****                            | ((alpha * (fg & MASK_G) + beta * (bg & MASK_G))
 316              		.loc 1 208 29 view .LVU79
 317 003e 24F07F44 		bic	r4, r4, #-16777216
 210:Drivers/daisy_ILI9341.h ****                               & MASK_MUL_G))
 318              		.loc 1 210 31 view .LVU80
 319 0042 00F4FC30 		and	r0, r0, #129024
 208:Drivers/daisy_ILI9341.h ****                            | ((alpha * (fg & MASK_G) + beta * (bg & MASK_G))
 320              		.loc 1 208 29 view .LVU81
 321 0046 24F44104 		bic	r4, r4, #12648448
 322 004a 24F47844 		bic	r4, r4, #63488
 323 004e 24F03F04 		bic	r4, r4, #63
 209:Drivers/daisy_ILI9341.h ****                               & MASK_MUL_G))
 324              		.loc 1 209 28 view .LVU82
 325 0052 2043     		orrs	r0, r0, r4
 211:Drivers/daisy_ILI9341.h ****                           >> 6);
 326              		.loc 1 211 31 view .LVU83
 327 0054 8609     		lsrs	r6, r0, #6
 328              	.LVL24:
 329              	.L13:
 330              		.loc 1 211 31 view .LVU84
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 12


 331              	.LBE42:
 332              	.LBE44:
 333              	.LBE38:
 334              	.LBE45:
  65:Drivers/daisy_ILI9341.cpp ****     }
  66:Drivers/daisy_ILI9341.cpp **** 
  67:Drivers/daisy_ILI9341.cpp ****     color_mem[id] = color_id; 
 335              		.loc 2 67 5 is_stmt 1 view .LVU85
  68:Drivers/daisy_ILI9341.cpp **** 
  69:Drivers/daisy_ILI9341.cpp ****     frame_buffer[id]     = color >> 8;
 336              		.loc 2 69 26 is_stmt 0 view .LVU86
 337 0056 044B     		ldr	r3, .L17+4
  67:Drivers/daisy_ILI9341.cpp **** 
 338              		.loc 2 67 19 view .LVU87
 339 0058 6A54     		strb	r2, [r5, r1]
 340              		.loc 2 69 5 is_stmt 1 view .LVU88
 341              		.loc 2 69 34 is_stmt 0 view .LVU89
 342 005a 320A     		lsrs	r2, r6, #8
 343              	.LVL25:
 344              		.loc 2 69 26 view .LVU90
 345 005c 5A54     		strb	r2, [r3, r1]
  70:Drivers/daisy_ILI9341.cpp ****     frame_buffer[id + 1] = color & 0xFF;
 346              		.loc 2 70 5 is_stmt 1 view .LVU91
 347              		.loc 2 70 26 is_stmt 0 view .LVU92
 348 005e 1944     		add	r1, r1, r3
 349              	.LVL26:
 350              		.loc 2 70 26 view .LVU93
 351 0060 4E70     		strb	r6, [r1, #1]
  71:Drivers/daisy_ILI9341.cpp **** }
 352              		.loc 2 71 1 view .LVU94
 353 0062 F0BD     		pop	{r4, r5, r6, r7, pc}
 354              	.LVL27:
 355              	.L18:
 356              		.loc 2 71 1 view .LVU95
 357              		.align	2
 358              	.L17:
 359 0064 00000000 		.word	_ZL9color_mem
 360 0068 00000000 		.word	_ZL12frame_buffer
 361              		.cfi_endproc
 362              	.LFE2607:
 364              		.section	.text._ZN19ILI9341SpiTransport8GetPixelEm,"ax",%progbits
 365              		.align	1
 366              		.global	_ZN19ILI9341SpiTransport8GetPixelEm
 367              		.syntax unified
 368              		.thumb
 369              		.thumb_func
 371              	_ZN19ILI9341SpiTransport8GetPixelEm:
 372              	.LVL28:
 373              	.LFB2608:
  72:Drivers/daisy_ILI9341.cpp **** 
  73:Drivers/daisy_ILI9341.cpp **** uint16_t ILI9341SpiTransport::GetPixel(uint32_t id)
  74:Drivers/daisy_ILI9341.cpp **** {
 374              		.loc 2 74 1 is_stmt 1 view -0
 375              		.cfi_startproc
 376              		@ args = 0, pretend = 0, frame = 0
 377              		@ frame_needed = 0, uses_anonymous_args = 0
 378              		@ link register save eliminated.
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 13


  75:Drivers/daisy_ILI9341.cpp ****     return color_mem[id];
 379              		.loc 2 75 5 view .LVU97
  76:Drivers/daisy_ILI9341.cpp **** }...
 380              		.loc 2 76 1 is_stmt 0 view .LVU98
 381 0000 014B     		ldr	r3, .L20
 382 0002 585C     		ldrb	r0, [r3, r1]	@ zero_extendqisi2
 383              	.LVL29:
 384              		.loc 2 76 1 view .LVU99
 385 0004 7047     		bx	lr
 386              	.L21:
 387 0006 00BF     		.align	2
 388              	.L20:
 389 0008 00000000 		.word	_ZL9color_mem
 390              		.cfi_endproc
 391              	.LFE2608:
 393              		.section	.sdram_bss,"aw"
 396              	_ZL9color_mem:
 397 0000 00000000 		.space	76800
 397      00000000 
 397      00000000 
 397      00000000 
 397      00000000 
 398              		.section	.sram1_bss,"aw"
 401              	_ZL12frame_buffer:
 402 0000 00000000 		.space	153600
 402      00000000 
 402      00000000 
 402      00000000 
 402      00000000 
 403              		.text
 404              	.Letext0:
 405              		.file 3 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/machine/_default_types.h"
 406              		.file 4 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/_stdint.h"
 407              		.file 5 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdint.h"
 408              		.file 6 "/Library/DaisyToolchain/0.2.0/arm/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 409              		.file 7 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cmath"
 410              		.file 8 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/std_abs.h"
 411              		.file 9 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdlib"
 412              		.file 10 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdint"
 413              		.file 11 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/type_traits"
 414              		.file 12 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/debug/debug.h"
 415              		.file 13 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/arm-none-eabi/thumb/v
 416              		.file 14 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/algorithmfwd.h"
 417              		.file 15 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/stl_pair.h"
 418              		.file 16 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/exception_ptr.h"
 419              		.file 17 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdarg"
 420              		.file 18 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdio"
 421              		.file 19 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstring"
 422              		.file 20 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/predefined_ops.h
 423              		.file 21 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/_types.h"
 424              		.file 22 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/reent.h"
 425              		.file 23 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/lock.h"
 426              		.file 24 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/math.h"
 427              		.file 25 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdlib.h"
 428              		.file 26 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/math.h"
 429              		.file 27 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/stdlib.h"
 430              		.file 28 "../../../libDaisy//src/daisy_core.h"
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 14


 431              		.file 29 "../../../libDaisy//src/per/spi.h"
 432              		.file 30 "../../../libDaisy//src/util/wav_format.h"
 433              		.file 31 "../../../libDaisy//src/dev/max11300.h"
 434              		.file 32 "../../../libDaisy//src/daisy_seed.h"
 435              		.file 33 "../../../libDaisy//src/per/gpio.h"
 436              		.file 34 "/Library/DaisyToolchain/0.2.0/arm/lib/gcc/arm-none-eabi/10.3.1/include/stdarg.h"
 437              		.file 35 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdio.h"
 438              		.file 36 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/string.h"
 439              		.file 37 "../../../libDaisy//src/dev/sr_595.h"
 440              		.file 38 "<built-in>"
ARM GAS  /var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s 			page 15


DEFINED SYMBOLS
                            *ABS*:0000000000000000 daisy_ILI9341.cpp
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:19     .text._ZN19ILI9341SpiTransport11SendDataDMAEPhj:0000000000000000 $t
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:25     .text._ZN19ILI9341SpiTransport11SendDataDMAEPhj:0000000000000000 _ZN19ILI9341SpiTransport11SendDataDMAEPhj
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:77     .text._ZN19ILI9341SpiTransport11SendDataDMAEPhj:000000000000002c $d
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:88     .text._ZN19ILI9341SpiTransport18TxCompleteCallbackEPvN5daisy9SpiHandle6ResultE:0000000000000000 _ZN19ILI9341SpiTransport18TxCompleteCallbackEPvN5daisy9SpiHandle6ResultE
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:82     .text._ZN19ILI9341SpiTransport18TxCompleteCallbackEPvN5daisy9SpiHandle6ResultE:0000000000000000 $t
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:180    .text._ZN19ILI9341SpiTransport18TxCompleteCallbackEPvN5daisy9SpiHandle6ResultE:0000000000000028 $d
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:401    .sram1_bss:0000000000000000 _ZL12frame_buffer
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:185    .text._ZN19ILI9341SpiTransport11SendDataDMAEv:0000000000000000 $t
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:191    .text._ZN19ILI9341SpiTransport11SendDataDMAEv:0000000000000000 _ZN19ILI9341SpiTransport11SendDataDMAEv
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:224    .text._ZN19ILI9341SpiTransport11SendDataDMAEv:0000000000000018 $d
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:229    .text._ZNK19ILI9341SpiTransport10PaintPixelEmhh:0000000000000000 $t
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:235    .text._ZNK19ILI9341SpiTransport10PaintPixelEmhh:0000000000000000 _ZNK19ILI9341SpiTransport10PaintPixelEmhh
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:359    .text._ZNK19ILI9341SpiTransport10PaintPixelEmhh:0000000000000064 $d
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:396    .sdram_bss:0000000000000000 _ZL9color_mem
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:365    .text._ZN19ILI9341SpiTransport8GetPixelEm:0000000000000000 $t
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:371    .text._ZN19ILI9341SpiTransport8GetPixelEm:0000000000000000 _ZN19ILI9341SpiTransport8GetPixelEm
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:389    .text._ZN19ILI9341SpiTransport8GetPixelEm:0000000000000008 $d
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:397    .sdram_bss:0000000000000000 $d
/var/folders/wz/z09yph4n0qj4t7mjxhl6ttn80000gn/T//ccZDfs3D.s:402    .sram1_bss:0000000000000000 $d

UNDEFINED SYMBOLS
dsy_gpio_write
_ZN5daisy9SpiHandle11DmaTransmitEPhjPFvPvEPFvS2_NS0_6ResultEES2_
